Bootstrap: docker
From: postgres:16

%environment
    export POSTGRES_PASSWORD=benchmark
    export POSTGRES_DB=benchmark_db
    export PGDATA=/var/lib/postgresql/data

%post
    # Install any additional dependencies if needed
    echo "PostgreSQL container built successfully"

%runscript
    # Start PostgreSQL server with GPU support
    exec postgres

%labels
    Author Team6
    Version 0.2.0
    Description PostgreSQL database for benchmarking with GPU support

%help
    This container runs the PostgreSQL database service with GPU support.
    Usage:
        apptainer run --nv postgres.sif
    
    Note: Use --nv flag to enable NVIDIA GPU support for GPU-accelerated queries
    
    Default credentials:
        Database: benchmark_db
        Password: benchmark
